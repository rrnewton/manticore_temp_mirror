(* fact.bom *)

module Fact
  fun init (i : [int]; exh : cont(any)) : int =

    fun fact (i : int; exh : cont(any)) : int =
	if I32Lte (i, 1:int) then return (1:int)
	else
	  let j : int = apply fact (I32Sub (i, 1:int); exh)
	  return (I32Mul (i, j))

    apply fact (unwrap(i); exh)
