(* array-sub.hlop
 *
 * COPYRIGHT (c) 2008 The Manticore Project (http://manticore.cs.uchicago.edu)
 * All rights reserved.
 *
 * Subscript an array.
 *)

#include "array.def"
#include "assert.def"

define @array-sub (arg : [array, ml_int] / exh : exh) : any =
  let arr : array = SELECT(0, arg)
  let wi : ml_int = SELECT(1, arg)
  let i : int = unwrap(wi)

  let x: any = @array-sub-ub(arr, i / exh)
  return(x)
;
